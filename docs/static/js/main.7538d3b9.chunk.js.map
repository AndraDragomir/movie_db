{"version":3,"sources":["components/MovieCard.js","components/MovieList.js","components/Loading.js","components/SearchInput.js","App.js","index.js"],"names":["MovieCard","movie","className","src","poster","alt","title","vote","MovieList","movies","map","id","Loading","SearchInput","handleSearch","handleReset","useState","query","setQuery","type","value","onChange","e","target","onKeyDown","key","placeholder","onClick","API_KEY","App","movieList","setMovieList","loading","setLoading","page","setPage","searchMode","setSearchMode","loadMovies","fetch","then","res","json","response","results","overview","vote_average","poster_path","prevMovies","useEffect","document","addEventListener","el","documentElement","scrollTop","clientHeight","scrollHeight","prevVal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7538d3b9.chunk.js","sourcesContent":["import \"./MovieCard.css\";\r\n\r\nfunction MovieCard({ movie }) {\r\n  return (\r\n    <div className=\"movie-card\">\r\n      <img src={`https://image.tmdb.org/t/p/w500${movie.poster}`} alt={movie.title} />\r\n      <h2>{movie.title}</h2>\r\n      <h3>Vote: {movie.vote}</h3>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MovieCard;","import MovieCard from \"./MovieCard\";\r\nimport \"./MovieList.css\";\r\n\r\nfunction MovieList({ movies }) {\r\n  return (\r\n    <div className=\"movie-list\">\r\n      { movies.map(movie => (\r\n        <MovieCard \r\n          key={movie.id}\r\n          movie={movie}\r\n        />\r\n      )) }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MovieList;","import './Loading.css';\r\n\r\nfunction Loading() {\r\n  return <div className=\"loading\">Loading...</div>\r\n}\r\n\r\nexport default Loading","import { useState } from \"react\";\r\nimport \"./SearchInput.css\"\r\n\r\nfunction SearchInput({ handleSearch, handleReset }) {\r\n  const [query, setQuery] = useState('')\r\n\r\n  function handleInputChange(e) {\r\n    setQuery(e.target.value)\r\n  }\r\n\r\n  function handleKeyDown(e) {\r\n    if (!query) return\r\n\r\n    e.key === 'Enter' && handleSearch(query);\r\n  }\r\n\r\n  function handleInputReset() {\r\n    setQuery('');\r\n    handleReset();\r\n  }\r\n\r\n  return (\r\n    <span>\r\n      <input \r\n        className=\"search-input\"\r\n        type=\"text\" \r\n        value={query}\r\n        onChange={handleInputChange}\r\n        onKeyDown={handleKeyDown}\r\n        placeholder=\"Type a movie name...\"\r\n      />\r\n      <span \r\n        className=\"reset-btn\"\r\n        onClick={handleInputReset}\r\n      >RESET</span>\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default SearchInput;","import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport MovieList from \"./components/MovieList\";\nimport Loading from \"./components/Loading\";\nimport SearchInput from \"./components/SearchInput\";\n\nconst API_KEY = '90db55b9dcc02761d6a6051a96002649'\n\nfunction App() {\n  const [movieList, setMovieList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [searchMode, setSearchMode] = useState(false);\n\n  useEffect(() => {\n    if (loading || searchMode) return \n    loadMovies();\n  }, [page])\n\n  useEffect(() => {\n    if (page === 1) {\n      document.addEventListener('scroll', (e) => {\n        const el = e.target.documentElement\n        // scroll is at the bottom of the page\n        if (el.scrollTop + el.clientHeight === el.scrollHeight) {\n          setPage(prevVal => prevVal + 1)\n        }\n      })\n    }\n  }, [page])\n\n  function loadMovies() {\n    setLoading(true);\n    const apiUrl = 'https://api.themoviedb.org/3/discover/movie'\n\n    fetch(`${apiUrl}?page=${page}&api_key=${API_KEY}`)\n      .then(res => res.json())\n      .then(response => {\n        const movies = response.results.map(movie => ({\n          id: movie.id,\n          title: movie.title,\n          overview: movie.overview,\n          vote: movie.vote_average,\n          poster: movie.poster_path,\n        }))\n\n        setLoading(false)\n        setMovieList(prevMovies => [...prevMovies, ...movies])\n      })\n  }\n\n  function searchMovies(query) {\n    setMovieList([])\n    setSearchMode(true);\n\n    setLoading(true);\n    const apiUrl = 'https://api.themoviedb.org/3/search/movie'\n    \n    fetch(`${apiUrl}?query=${query}&api_key=${API_KEY}`)\n      .then(res => res.json())\n      .then(response => {\n        const movies = response.results.map(movie => ({\n          id: movie.id,\n          title: movie.title,\n          overview: movie.overview,\n          vote: movie.vote_average,\n          poster: movie.poster_path,\n        }))\n\n        setLoading(false)\n        setMovieList(movies)\n      })\n  }\n\n  function handleReset() {\n    setMovieList([])\n    setSearchMode(false)\n    \n    if (page === 1) {\n      loadMovies();\n    } else {\n      setPage(1);\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <SearchInput \n          handleSearch={searchMovies} \n          handleReset={handleReset}\n        />\n      </header>\n      <main>\n        <MovieList movies={movieList} />\n        { loading && <Loading /> }\n      </main>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}